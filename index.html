<html>    <head>        <meta charset="utf-8">        <title>Divis√£o das CRI</title>        <!-- Latest compiled and minified CSS -->        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">        <style>            html, body, #map {  width: 100%; height: 100%; margin: 0px; padding: 0px; position: relative; z-index: 1; }            .box { position: absolute; z-index: 9; background: white; border: 1px solid #c7c7c7; border-radius: 3px; top: 15px; left: 50%; margin-left:-45%; padding: 15px 15px 0 15px; }        </style>    </head>    <body>        <div class="box">            <div class="container">                <div class="col-md-12">                    <form action="" method="post">                        <div class="form-group">                            <input type="text" class="form-control" id="address" name="address" placeholder="Exemplo: Jardim Leblon, Campo Grande, MS ou Avenida Mato Grosso, 785, Centro, Campo Grande">                        </div>                    </form>                </div>            </div>        </div>        <div id="map"></div>        <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>        <script>            var pathKML = 'http://paulopanissa.com/sites/api/cri.kml';            function getKmlLayer(map){                var ctaLayer = new google.maps.KmlLayer(pathKML, {                    preserveViewport:true                });                ctaLayer.setMap(map);            }            $(document).ready(function(){                var end     = "Rua Quatorze de Julho, 1900 - Centro, MS";                var full    = 'default';                var re      = new RegExp(' ', 'g');                address     = end.replace(re, '+');                gL(address, function(name){                    lat = name.results[0].geometry.location.lat;                    lng = name.results[0].geometry.location.lng;                    console.log('Lat: ' + lat + " - Lng: " + lng);                    initialize(lat, lng);                });                function initialize(lat, lng, m) {                    var LatLng = new google.maps.LatLng(lat, lng);                    var mapOptions = {                        zoom: 12,                        center: LatLng,                        mapTypeId: 'roadmap'                    }                    var map = new google.maps.Map(document.getElementById('map'), mapOptions);                    getKmlLayer(map);                    if(m != undefined){                        var mapOptions = {                            zoom: 14,                            center: LatLng,                            mapTypeId: 'roadmap'                        }                        var map = new google.maps.Map(document.getElementById('map'), mapOptions);                        var marker = new google.maps.Marker({                            position: new google.maps.LatLng(lat, lng),                            map: map                        });                        getKmlLayer(map);                    }                }                function gL(add, callback){                    $.getJSON('http://maps.googleapis.com/maps/api/geocode/json?sensor=true&address='+add, function(jsonData){                        full = jsonData;                        callback(full);                    });                }                $('#address').on('keypress', function(e){                    if(e.which == 13) {                        e.preventDefault();                        var end = $(this).val();                        var full = 'default';                        var re = new RegExp(' ', 'g');                        address = end.replace(re, '+');                        gL(address, function (name) {                            lat = name.results[0].geometry.location.lat;                            lng = name.results[0].geometry.location.lng;                            console.log('Lat: ' + lat + " - Lng: " + lng);                            initialize(lat, lng, true);                        });                    }                });            });        </script>    </body></html>